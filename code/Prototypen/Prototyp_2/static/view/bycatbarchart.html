<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amenities Bar Chart</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Chart.js library -->
</head>
<body>
    <div style="width: 60%; margin: auto;">
        <canvas id="amenitiesChart"></canvas>
    </div>

<<<<<<< HEAD
    <script>
        // Function to fetch data and generate chart
        function generateChart() {
            // Make a request to the Flask route
            fetch('/colleges/get_amenitites_nearby_barrchart?latitude=47.49652862548828&longitude=8.719242095947266&distance_km=0.5&limit=10000&sortbycat=true')
                .then(response => response.json())
                .then(data => {
                    // Process the data to separate labels and values
                    const labels = data.map(item => item[0]);
                    const values = data.map(item => item[1]);
=======
   <script>
    // Auslesen aller URL-Parameter
    const urlParams = new URLSearchParams(window.location.search);
>>>>>>> 37b3fe5abb84886c252aa757d14780308b20a0b6

    // Funktion zum Erstellen der Anfrage-URL
    function createRequestURL() {
        // Basis-URL Ihrer Flask-Route
        let requestURL = '/colleges/get_amenitites_nearby_barrchart?';

        // Hinzufügen aller URL-Parameter zur Anfrage-URL
        urlParams.forEach((value, key) => {
            requestURL += `${key}=${value}&`; // Fügt jeden Parameter und Wert zur URL hinzu
        });

        // Entfernen des letzten '&' aus der URL
        requestURL = requestURL.slice(0, -1);

        return requestURL;
    }

    // Funktion zum Erstellen des Charts
    function generateChart() {
        const requestURL = createRequestURL(); // Erstellen der Anfrage-URL

        // Machen Sie die Anfrage
        fetch(requestURL)
            .then(response => response.json())
            .then(data => {
                // Rest des Chart-Erstellungsprozesses...
            })
            .catch(error => console.error('Error:', error));
    }

    // Aufrufen der Funktion beim Laden der Seite
    generateChart();
</script>

</body>
</html>

